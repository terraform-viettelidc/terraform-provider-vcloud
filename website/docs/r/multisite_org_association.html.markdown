---
layout: "vcd"
page_title: "Viettel IDC Cloud: vcloud_multisite_org_association"
sidebar_current: "docs-vcd-resource-multisite-org-association"
description: |-
  Provides a resource to create, read, and modify a Viettel IDC Cloud org association with the current org.
---

# vcloud\_multisite\_org\_association

Provides a resource to create, read, and modify a Viettel IDC Cloud org association.


Supported in provider *v3.13+*

## Example Usage 1

Creating an org association using an association data file.

To create an association in the current org (`org1`), we need a file containing the other org (`org2`) information, which its
administrator will have created using the data source `vcloud_multisite_org_data`.

```hcl
data "vcloud_org" "my-org" {
  name = "my-org"
}

resource "vcloud_multisite_org_association" "org1-org2" {
  org_id                = data.vcloud_org.my-org.id
  association_data_file = "org2.xml"
}
```

## Example Usage 2

Creating an org association using association data from some other source.

```hcl
resource "vcloud_multisite_org_association" "org1-org2" {
  org_id           = data.vcloud_org.my-org.id
  association_data = var.remote_data
}
```
Here, `var.remote_data` contains the same XML that was generated by `vcloud_multisite_org_data` in the other org.
Use this method if it is more convenient than reading XML from a file.
The data could come from the field `associated_data` of a `vcloud_multisite_org_data`, or from a `local_file.content`
data source, or simply from a configuration file where it was collected by the current administrator.
You can see an example of one such method in the folder `/examples/multi-site/org-all-at-once`. 

## Argument Reference

* `org_id` - (Required) The ID of the current organization where we start the association with a remote one.
* `association_data_file` - (Optional; required if `associated_data` is not used) Name of the file containing the data used to associate to this org from another one.
  (Used instead of `associated_data`). This file can be created (by the other org administrator) using the data source `vcloud_multisite_org_data`.
* `association_data` - (Optional; required if `associated_data_file` is not used) Data produced from another org, needed to associate to this org from another one.
  (Used instead of `associated_data_file`)

## Attribute Reference

* `associated_site_id` - ID of the remote site to which the associated org belongs.
* `associated_org_id` - ID of the remote org associated with the current one.
* `associated_org_name` - The name of the associated org.
* `status` - The status of the association (one of `ASYMMETRIC`, `ACTIVE`, `UNREACHABLE`, `ERROR`)


## Importing

~> **Note:** The current implementation of Terraform import can only import resources into the state. It does not generate
configuration. [More information.](https://www.terraform.io/docs/import/)

An existing org association can be [imported][docs-import] into this resource
via supplying the full dot separated path for the association, which requires the ID of the current org and the 
associated one. For example, to import the association definied in example 1, we would run:

```
terraform import vcloud_multisite_org_association.imported my-org-id.associated-org-id
```

To find the ID of the associated organization it might be necessary to inspect the XML file that was used to create the association.

## More information

See [Site and Org association](/providers/terraform-viettelidc/vcloud/latest/docs/guides/site_org_association) for a broader description
of association workflows.

[docs-import]: https://www.terraform.io/docs/import/
