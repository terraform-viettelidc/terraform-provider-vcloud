---
layout: "vcd"
page_title: "VMware Cloud Director: vcloud_multisite_site_association"
sidebar_current: "docs-vcd-resource-multisite-site-association"
description: |-
  Provides a resource to create, read, and modify a VMware Cloud Director site association with the current site.
---

# vcd\_multisite\_site\_association

Provides a resource to create, read, and modify a VMware Cloud Director site association.

~> Note: this resource requires System Administrator privileges

Supported in provider *v3.13+*

## Example Usage 1

Creating a site association using an association data file.

To create an association in the current site (`site1`), we need a file containing the other site information, which its
administrator will have created using the data source `vcloud_multisite_site_data`.

```hcl
resource "vcloud_multisite_site_association" "site1-site2" {
  association_data_file = "site2.xml"
}
```

## Example Usage 2

Creating a site association using association data from some other source.

```hcl
resource "vcloud_multisite_site_association" "site1-site2" {
  association_data = var.remote_data
}
```
Here, `var.remote_data` contains the same XML that was generated by `vcloud_multisite_site_data` in the other site.
Use this method if it is more convenient than reading XML from a file.
The data could come from the field `associated_data` of a `vcloud_multisite_site_data`, or from a `local_file.content`
data source, or simply from a configuration file where it was collected by the current administrator.
You can see an example of one such method in the folder `/examples/multi-site/site-all-at-once`.

## Argument Reference

* `association_data_file` - (Optional; required if `associated_data` is not used) Name of the file containing the data used to associate to this site from another one.
  (Used instead of `associated_data`). This file can be created (by the other site administrator) using the data source `vcloud_multisite_site_data`.
* `association_data` - (Optional; required if `associated_data_file` is not used) Data produced from another site, needed to associate to this site from another one.
  (Used instead of `associated_data_file`)
* `connection_timeout_mins` - (Optional) How many minutes we wait for the association to be complete. (0 = no check) 
  This property is only used during update, and should not be used until both sides of the association have been completed.

## Attribute Reference

* `associated_site_id` - ID of the remote site associated with the current one.
* `associated_site_name` - The name of the associated site.
* `status` - The status of the association (one of `ASYMMETRIC`, `ACTIVE`, `UNREACHABLE`, `ERROR`)


## Importing

~> **Note:** The current implementation of Terraform import can only import resources into the state. It does not generate
configuration. [More information.](https://www.terraform.io/docs/import/)

An existing site association can be [imported][docs-import] into this resource
via supplying the ID of the associated site.
For example, to import the association definied in example 1, we would run:

```
terraform import vcloud_multisite_site_association.imported associated-site-id
```

To find the ID of the associated site it might be necessary to inspect the XML file that was used to create the association.


## More information

See [Site and Org association](/providers/vmware/vcd/latest/docs/guides/site_org_association) for a broader description
of association workflows.

[docs-import]: https://www.terraform.io/docs/import/